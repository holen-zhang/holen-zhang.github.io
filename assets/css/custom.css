/* ---------------------------
   0) Global variables (header height per breakpoint)
   --------------------------- */
:root { --masthead-h: 64px; }                         /* phones */
@media (min-width: 768px)  { :root { --masthead-h: 76px; } }   /* tablets */
@media (min-width: 1024px) { :root { --masthead-h: 92px; } }   /* desktops */

/* ---------------------------
   1) Fixed masthead (transparent-to-solid)
   --------------------------- */

/* Base styles for all pages */
.masthead {
  position: fixed;
  top: 0; left: 0; right: 0;
  z-index: 1000;
  /* Add a smooth transition for when we scroll */
  transition: background 0.2s ease-in-out, box-shadow 0.2s ease-in-out;
}

/* 1. STYLES FOR NON-HOME PAGES:
   Masthead is solid white */
body:not(.home-hero) .masthead {
  background: rgba(255, 255, 255, 0.92);
  backdrop-filter: saturate(180%) blur(8px);
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.06);
}

/* 2. STYLES FOR HOME PAGE (at top):
   Masthead is transparent */
body.home-hero .masthead {
  background: transparent;
  backdrop-filter: none;
  box-shadow: none;
}

/* 3. STYLES FOR HOME PAGE (scrolled):
   Masthead becomes solid white */
body.home-hero .masthead.is-scrolled {
  background: rgba(255, 255, 255, 0.92);
  backdrop-filter: saturate(180%) blur(8px);
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.06);
}

/* 4. CONTENT PADDING (FIXES GAP/OVERLAP): */

/* On non-hero pages, push all content down */
body:not(.home-hero) .initial-content {
  padding-top: var(--masthead-h);
}

/* On the home page, REMOVE the top padding to kill the "gap" */
body.home-hero .initial-content {
  padding-top: 0;
}

/* Anchor jumps land below the fixed header */
[id] { scroll-margin-top: calc(var(--masthead-h) + 8px ); }

/* Smooth scrolling between sections */
html { scroll-behavior: smooth; }

/* ---------------------------
   2) Hero (homepage)
   --------------------------- */

/* Hide the big "Home" title on the hero */
.home-hero .page__title { display: none; }

/* Taller hero */
.home-hero .page__hero--overlay {
  /* Make hero taller (e.g., 70% of viewport height) */
  min-height: 70vh;
  /* Remove any default margin */
  margin-top: 0 !important;
  /* Push hero content (caption) down from the top */
  padding-top: var(--masthead-h);
  box-sizing: border-box; /* Include padding in height */
}
@media (min-width: 768px) {
  /* Taller on desktop */
  .home-hero .page__hero--overlay { min-height: 75vh; }
}

/* ---------------------------
   3) Masthead typography (site title)
   --------------------------- */
.site-title {
  font-size: 1.6rem;  /* tweak to taste */
  font-weight: 700;
  letter-spacing: 0.2px;
}
@media (min-width: 768px) {
  .site-title { font-size: 2rem; }
}

/* ---------------------------
   4) Author card (avatar, name, links)
   --------------------------- */
.author__avatar img {
  width: 140px;        /* try 160/180 if you want larger */
  max-width: none;
  border-radius: 0;    /* 0 = sharp rectangle; e.g., 8px for subtle rounding */
  filter: none !important;    /* ensure not greyscaled by theme */
  -webkit-filter: none !important;
  opacity: 1 !important;      /* ensure not dimmed by theme */
}

.author__name { font-size: 1.2rem; }

/* Unmute author block + social icons */
.author__avatar,
.author__content,
.author__urls.social-icons a {
  opacity: 1;
}

/* ---------------------------
   5) Top nav active state (when scrollspy marks a link)
   --------------------------- */
.masthead__menu-item a.is-active {
  border-bottom: 2px solid currentColor;
}

/* ---------------------------
   6) Minor spacing guardrails
   --------------------------- */
/* Prevent stray top margin from reintroducing gaps at the top of pages */
.page__content > *:first-child { margin-top: 0; }
