/* ---------------------------
   0) Global variables (header height per breakpoint)
   --------------------------- */
:root { --masthead-h: 64px; }                 /* phones */
@media (min-width: 768px)  { :root { --masthead-h: 76px; } }   /* tablets */
@media (min-width: 1024px) { :root { --masthead-h: 92px; } }   /* desktops */

/* Smooth scrolling between sections */
html { scroll-behavior: smooth; }

/* Anchor jumps land below the fixed header */
[id] { scroll-margin-top: calc(var(--masthead-h) + 8px ); }

/* ---------------------------
   1) Fixed masthead (transparent at top of home, solid elsewhere/when scrolled)
   --------------------------- */
.masthead {
  position: fixed;
  top: 0; left: 0; right: 0;
  z-index: 1000;
  transition: background 0.2s ease-in-out, box-shadow 0.2s ease-in-out, backdrop-filter 0.2s ease-in-out;
}

/* Non-home pages: solid from the start */
body:not(.is-home-hero) .masthead {
  background: rgba(255, 255, 255, 0.92);
  backdrop-filter: saturate(180%) blur(8px);
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.06);
}

/* Home (at top): transparent over hero */
body.is-home-hero .masthead {
  background: transparent;
  backdrop-filter: none;
  box-shadow: none;
}

/* Home (after scroll): becomes solid */
body.is-home-hero.is-scrolled .masthead {
  background: rgba(255, 255, 255, 0.92);
  backdrop-filter: saturate(180%) blur(8px);
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.06);
}

/* Content padding rules:
   - Non-home pages need a top pad so content doesn't hide under masthead
   - Home page: no global top pad; hero sits at the very top under the transparent masthead */
body:not(.is-home-hero) .initial-content { padding-top: var(--masthead-h); }
body.is-home-hero .initial-content { padding-top: 0; }

/* ---------------------------
   2) Hero (homepage)
   --------------------------- */

/* Hide the big "Home" title on the hero */
.home-hero .page__title { display: none; }

/* Hero should start at page top; give internal pad for caption so it clears the masthead */
.home-hero .page__hero--overlay {
  min-height: 70vh;                 /* taller hero */
  margin-top: 0 !important;         /* no stray margins */
  padding-top: var(--masthead-h);   /* push caption below masthead */
  box-sizing: border-box;
}
@media (min-width: 768px) {
  .home-hero .page__hero--overlay { min-height: 75vh; }
}

/* ---------------------------
   3) Masthead typography (site title)
   --------------------------- */
.site-title {
  font-size: 1.6rem;
  font-weight: 700;
  letter-spacing: 0.2px;
}
@media (min-width: 768px) {
  .site-title { font-size: 2rem; }
}

/* ---------------------------
   4) Author card (avatar, name, links)
   --------------------------- */
.author__avatar img {
  width: 140px;            /* try 160/180 if you want larger */
  max-width: none;
  border-radius: 0;        /* 0 = sharp rectangle */
  filter: none !important;
  -webkit-filter: none !important;
  opacity: 1 !important;
}
.author__name { font-size: 1.2rem; }
.author__avatar,
.author__content,
.author__urls.social-icons a { opacity: 1; }

/* ---------------------------
   5) Top nav active state (scrollspy)
   --------------------------- */
.masthead__menu-item a.is-active { border-bottom: 2px solid currentColor; }

/* ---------------------------
   6) Minor spacing guardrails
   --------------------------- */
.page__content > *:first-child { margin-top: 0; }
