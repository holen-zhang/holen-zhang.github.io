/* ---------------------------
   0) Global variables (header height per breakpoint)
   --------------------------- */
:root { --masthead-h: 64px; }                         /* phones */
@media (min-width: 768px)  { :root { --masthead-h: 76px; } }   /* tablets */
@media (min-width: 1024px) { :root { --masthead-h: 92px; } }   /* desktops */

/* ---------------------------
   1) Fixed masthead (always visible)
   --------------------------- */
.masthead {
  position: fixed;
  top: 0; left: 0; right: 0;
  z-index: 1000;                         /* above hero/content */
  background: rgba(255, 255, 255, 0.92); /* keep text readable */
  backdrop-filter: saturate(180%) blur(8px); /* optional glass effect */
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.06);
}

/* * Push content down.
 * We use the 'body' class (set in index.md) to decide what to do.
 */

/* 1. On NORMAL pages, push the *entire container* down.
 * This rule applies when the body *does not* have .home-hero
 */
body:not(.home-hero) .initial-content {
  padding-top: var(--masthead-h);
}

/* 2. On the HERO page, push the *main content* down (fixes overlap)
 * but leave the container padding at 0 (fixes gap)
 */
body.home-hero .initial-content #main {
  padding-top: var(--masthead-h);
}

/* Anchor jumps land below the fixed header */
[id] { scroll-margin-top: calc(var(--masthead-h) + 8px ); }

/* Smooth scrolling between sections */
html { scroll-behavior: smooth; }

/* ---------------------------
   2) Hero (homepage)
   --------------------------- */

/* Hide the big "Home" title on the hero */
.home-hero .page__title { display: none; }

/* Taller hero */
.home-hero .page__hero--overlay {
  min-height: 420px;
  /* We are using .initial-content, so we MUST kill any default
     top margin to prevent a "double gap" */
  margin-top: 0 !important;
}
@media (min-width: 768px) {
  .home-hero .page__hero--overlay { min-height: 520px; }
}

/* ---------------------------
   3) Masthead typography (site title)
   --------------------------- */
.site-title {
  font-size: 1.6rem;  /* tweak to taste */
  font-weight: 700;
  letter-spacing: 0.2px;
}
@media (min-width: 768px) {
  .site-title { font-size: 2rem; }
}

/* ---------------------------
   4) Author card (avatar, name, links)
   --------------------------- */
.author__avatar img {
  width: 140px;        /* try 160/180 if you want larger */
  max-width: none;
  border-radius: 0;    /* 0 = sharp rectangle; e.g., 8px for subtle rounding */
  filter: none !important;    /* ensure not greyscaled by theme */
  -webkit-filter: none !important;
  opacity: 1 !important;      /* ensure not dimmed by theme */
}

.author__name { font-size: 1.2rem; }

/* Unmute author block + social icons */
.author__avatar,
.author__content,
.author__urls.social-icons a {
  opacity: 1;
}

/* ---------------------------
   5) Top nav active state (when scrollspy marks a link)
   --------------------------- */
.masthead__menu-item a.is-active {
  border-bottom: 2px solid currentColor;
}

/* ---------------------------
   6) Minor spacing guardrails
   --------------------------- */
/* Prevent stray top margin from reintroducing gaps at the top of pages */
.page__content > *:first-child { margin-top: 0; }
